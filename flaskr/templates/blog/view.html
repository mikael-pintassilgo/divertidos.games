{% extends 'base.html' %}

{% block breadcrumb %}
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Elements</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ post['title'] }}</li>
  </ol>
</nav>
{% endblock %}

{% block header %}
  <h1 class="breadcrumb-item active">{% block title %}{{ post['title'] }}{% endblock %}</h1>
  {% if post['parent_id'] %}
    The part of:
    <a href="{{ url_for('blog.view', id=post['parent_id']) }}">
      {{ post['parent_title'] }}
    </a>
  {% endif %}
{% endblock %}

{% block content %}
  <hr>
  <div name="body" id="body">
    <p class="fs-4">{{ (request.form['body'] or post['body']) | e | replace('\n', '<br>') | safe }}</p>
  </div>
  
  <br/>
  <div class= "text-body-secondary" name="comment" id="comment">
    <p class="fs-4">{{ request.form['comment'] or post['comment'] }}</p>
  </div>
  
  <br/>
  
  <!-- Sub Elements -->
  <br/>
  <h3>Consist of</h3>
  <hr>
  {% for sub_element in sub_elements %}
    <article class="">
      <header>
        <div>
          <a href="{{ url_for('blog.view', id=sub_element['id']) }}">
            <p class="fs-4">{{ sub_element['title'] }}</p>
          </a>
        </div>
      </header>
    </article>
  {% endfor %}
  
  <br/>
  <!-- Tags -->
  <br/>
  <h3>Hashtags</h3>
  <hr>
  {% for tag in tags %}
    <article class="">
      <header>
        <div>
          <a href="#" onclick="tagOnClick('{{ tag['title'] }}')">
            <p class="fs-4">#{{ tag['title'] }}</p>
          </a>
        </div>
      </header>
    </article>
  {% endfor %}
  
  <br/>
  
  <!-- Links -->
  <br/>
  <h3>Links</h3>
  <hr>
  {% for link in links %}
    <article class="">
      <header>
        <div>
          <a href="{{ link['title'] }}" target="_blank">
            <p class="fs-4">{{ link['title'] }}</p>
          </a>
        </div>
      </header>
    </article>
    {% if loop.last %}
    {% endif %}
  {% endfor %}

<!-- Games -->
<br/>
<h3>Games</h3>
<hr>
{% for game in games %}
  <article class="">
    <header>
      <div>
        <a href="{{ url_for('games.view', id=game['g_id']) }}" target="_blank">
          <p class="fs-4">{{ game['title'] }}</p>
        </a>
      </div>
    </header>
  </article>
  {% if loop.last %}
  {% endif %}
{% endfor %}

<script>
function tagOnClick(tag_title) {
    window.location.href = "{{ url_for('index') }}" + "?tag=" + tag_title;
}
</script>


{% endblock %}
